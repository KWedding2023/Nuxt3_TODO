<template>
  <div>
    <main>
      <h1>­ЪЊЮ TODOсЃфсѓ╣сЃѕ</h1>

      <!-- тЁЦтіЏсЃЋсѓЕсЃ╝сЃа -->
      <div>
        <input v-model="todoStore.newTodoTitle" type="text" placeholder="сѓ┐сѓ╣сѓ»тљЇсѓњтЁЦтіЏ" />
        <button @click="addTodo">У┐йтіа</button>
      </div>

      <!-- TODOсЃфсѓ╣сЃѕ -->
      <ul>
        <li v-for="todo in todoStore.todos" :key="todo.id">
          <label>
            <input type="checkbox" :checked="todo.done" @change="toggleTodo(todo.id)" />
            <span :class="{ 'line-through': todo.done }">{{ todo.title }}</span>
          </label>
          <button @click="removeTodo(todo.id)">Delete</button>
        </li>
      </ul>

      <p v-if="todoStore.todos.length === 0">сѓ┐сѓ╣сѓ»сЂ»сЂфсЂёсЂДсЂЎ Рюе</p>
    </main>
  </div>
</template>

<script setup lang="ts">
import { useTodoStore } from '@/stores/useTodoStore'

const todoStore = useTodoStore()

// У┐йтіатЄдуљє
const addTodo = () => {
  todoStore.addTodo()
}

// сЃѕсѓ░сЃФтЄдуљє
const toggleTodo = (id: number) => {
  todoStore.toggleTodo(id)
}

// тЅіжЎцтЄдуљє
const removeTodo = (id: number) => {
  todoStore.removeTodo(id)
}
</script>
